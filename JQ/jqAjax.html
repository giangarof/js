<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="container">
        <div id="result"></div>
        <ul id="users"></ul>

        <h3>Add post</h3>
        <form action="https://jsonplaceholder.typicode.com/posts" id="host">
            <input type="text" id="title" placeholder="title"> 
            <br>
            <textarea id="body" cols="30" rows="10"></textarea>
            <br>
            <input type="submit" value="Sumbit">
        </form>
    </div>

    <script>
        // $(document).ready(function(){
        //     $('#result').load('test.html', function(responseTxt, statusTxt, xhr){
        //         if(statusTxt == 'success'){
        //             alert('Ok')
        //         } else if(statusTxt == 'error'){
        //             alert('Error ' + xhr.statusTxt)
        //         }
        //     })
        // })

        // $.get('test.html', function(data){
        //     $('#result').html(data);
        // })

        //Local
        // $.getJSON('users.json', function(data){
        //     $.each(data, function(i, user){
        //         $('ul#users').append('<li>'+user.firstName+'</li>')
        //     })
        // })

        //External
        // $.ajax({
        //     method:'GET',
        //     url: 'https://jsonplaceholder.typicode.com/posts',
        //     dataType: 'json'
        // }).done(function(data){
        //     $.map(data, function(post, i){
        //         $('#result').append(
        //             '<h3>'+post.title+'</h3>' +
        //             '<p>' +post.body + '</p>'
        //         )
        //     })
        // })

        $('#host').submit(function(e){
            e.preventDefault();
            let title = $('#title').val()
            let body = $('#body').val()
            let url = $(this).attr('action')

            $.post(url, {title:title, body:body})
                .done(function(data){
                    console.log(data)
                })
        })
    </script>
    
</body>
</html>